<?xml version="1.0" encoding="utf-8"?>
<template>
    <name>controller</name>
    <filePath>src/main/java/${packageName}/${moduleName}/${subModuleName}</filePath>
    <fileName>${ClassName}Controller.java</fileName>
    <content><![CDATA[

package ${packageName}.${moduleName}<#if subModuleName != "">.${subModuleName}</#if>;
import com.lemuji.commons.pojo.PageDto;
import com.github.pagehelper.Page;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import ${packageName}.entity<#if subModuleName != "">.${subModuleName}</#if>.${ClassName};
import ${packageName}.${moduleName}<#if subModuleName != "">.${subModuleName}</#if>.${ClassName}Service;
import com.lemuji.commons.Reply;
import com.lemuji.commons.ReplyHelper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import com.lemuji.commons.pojo.UserBean;
/**
 * @author ${functionAuthor}
 * @date ${functionVersion}
 * @remark ${functionName}Controller
 */
@RestController
@RequestMapping("/${className}")
public class ${ClassName}Controller{

	@Autowired
	${ClassName}Service ${className}Service;


	/**
	 * @author ${functionAuthor}
	 * @date ${functionVersion}
	 * @remark ${functionName}根据id查询
	 */
    @GetMapping("/read")
    Reply read(@RequestAttribute("userBean") UserBean userBean,@RequestParam String id) {
        ${ClassName} ${className} = ${className}Service.read(userBean,id);

        return ReplyHelper.success(${className});
    }

	/**
	 * @author ${functionAuthor}
	 * @date ${functionVersion}
	 * @remark ${functionName}分页查询
	 */
    @RequestMapping("/list")
    Reply list(@RequestAttribute("userBean") UserBean userBean,${ClassName} ${className},PageDto pageDto) {
        Page page = ${className}Service.list(userBean,pageDto,${className});

        return ReplyHelper.success(page.toPageInfo());
    }

	/**
	 * @author ${functionAuthor}
	 * @date ${functionVersion}
	 * @remark ${functionName}新增
	 */
	@PostMapping("/create")
    Reply create(@RequestAttribute("userBean") UserBean userBean,@RequestBody ${ClassName} ${className}) {
        ${className}Service.create(userBean,${className});

        return ReplyHelper.success();
    }

	/**
	 * @author ${functionAuthor}
	 * @date ${functionVersion}
	 * @remark ${functionName}修改
	 */
    @PutMapping("/update")
    Reply update(@RequestAttribute("userBean") UserBean userBean, @RequestBody ${ClassName} ${className}) {
        ${className}Service.update(userBean,${className});

        return ReplyHelper.success();
    }

	/**
	 * @author ${functionAuthor}
	 * @date ${functionVersion}
	 * @remark ${functionName}删除
	 */
	@DeleteMapping("/delete")
    Reply delete(@RequestAttribute("userBean") UserBean userBean, @RequestParam String id) {
        ${className}Service.delete(userBean,id);

        return ReplyHelper.success();
    }
}]]>
    </content>
</template>